<%= turbo_frame_tag :drawer do %>
  <%= drawer_header(Spree.t(:translations)) %>
  <% if @locales.any? %>
    <%= form_for @resource, url: spree.admin_translation_path(@resource, resource_type: @resource.class.to_s), method: :put do |f| %>
      <div class="drawer-body">
        <ul class="nav nav-pills mb-3">
          <% @locales.each do |locale| %>
            <% active = (locale == @selected_translation_locale) %>
            <li class="nav-item">
              <%= link_to Spree.t('i18n.this_file_language', locale: locale), spree.edit_admin_translation_path(@resource, resource_type: @resource.class.to_s, translation_locale: locale), class: "nav-link#{' active' if active}" %>
            </li>
          <% end %>
        </ul>

        <%= hidden_field_tag :translation_locale, @selected_translation_locale %>
        <% options = { f: f, resource: @resource, locale: @selected_translation_locale } %>

        <%= render "spree/admin/translations/#{@resource.class.name.demodulize.underscore.pluralize}/form", options %>
      </div>
      <div class="drawer-footer">
        <%= turbo_save_button_tag %>
        <%= drawer_discard_button %>
      </div>
    <% end %>
  <% else %>
    <div class="drawer-body">
      <div class="text-muted p-5 d-flex align-items-center w-100 justify-content-center flex-column">
        <%= icon 'language', class: 'mb-3 opacity-50', style: 'font-size: 2rem;' %>
        <p><%= Spree.t('admin.translations.no_translations_configured') %></p>
      </div>
    </div>
  <% end %>
<% end %>