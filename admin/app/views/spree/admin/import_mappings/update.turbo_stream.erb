<%= turbo_stream.replace 'footer' do %>
  <%= render 'spree/admin/imports/mapping_footer', import: @import_mapping.import %>
<% end %>

<%= turbo_stream.replace "#{spree_dom_id(@import_mapping)}-icon" do %>
  <%= render 'spree/admin/imports/mapping_icon', mapping: @import_mapping %>
<% end %>

<% options = @import_mapping.import.schema_fields_without_already_mapped.map { |field| [Spree.t(field[:name]), field[:name]] } %>

<% @import_mapping.import.mappings.where.not(id: @import_mapping.id).each do |mapping| %>
  <%= turbo_stream.replace spree_dom_id(mapping) do %>
    <%= render 'spree/admin/imports/mapping_form', import: @import_mapping.import, mapping: mapping, options: options %>
  <% end %>
<% end %>